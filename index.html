<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>HOW IT WORKS - AQUINTAQA</title>
<style>
:root {
  --bg: #F4F7FA;
  --grid-minor: rgba(15, 23, 42, 0.055);
  --grid-major: rgba(15, 23, 42, 0.085);
  --frame: rgba(15, 23, 42, 0.18);
  --frame2: rgba(15, 23, 42, 0.12);
  --accent: #009EBA;
  --core-fill: #D4F1F6;
  --cots-fill: #FFFFFF;
  --cots-stroke: rgba(15,23,42,0.22);
  --stream: rgba(71,85,105,0.65);
  --stream-dash: rgba(71,85,105,0.45);
  --conc: #D28437;
  --conc-fill: #FCF0E5;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html, body {
  height: 100%;
}

body {
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Helvetica Neue", Helvetica;
  background: var(--bg);
  -webkit-font-smoothing: antialiased;
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
}

.hiw {
  width: 100%;
  height: 100vh;
  padding: 20px;
  background:
    linear-gradient(var(--grid-minor) 1px, transparent 1px),
    linear-gradient(90deg, var(--grid-minor) 1px, transparent 1px),
    linear-gradient(var(--grid-major) 1px, transparent 1px),
    linear-gradient(90deg, var(--grid-major) 1px, transparent 1px);
  background-color: var(--bg);
  background-size: 32px 32px, 32px 32px, 160px 160px, 160px 160px;
  display: flex;
  flex-direction: column;
}

.hiw__sheet {
  position: relative;
  margin: 0 auto;
  width: 100%;
  max-width: 1400px;
  flex: 1;
  display: flex;
  flex-direction: column;
}

.hiw__frame {
  position: absolute;
  inset: 0;
  border: 2px solid var(--frame);
  border-radius: 20px;
  pointer-events: none;
}

.hiw__frame::after {
  content: "";
  position: absolute;
  inset: 10px;
  border: 1px solid var(--frame2);
  border-radius: 16px;
}

.hiw__corner {
  position: absolute;
  width: 18px;
  height: 18px;
}

.hiw__corner.tl { top: -2px; left: -2px; border-left: 3px solid var(--frame); border-top: 3px solid var(--frame); border-top-left-radius: 6px; }
.hiw__corner.tr { top: -2px; right: -2px; border-right: 3px solid var(--frame); border-top: 3px solid var(--frame); border-top-right-radius: 6px; }
.hiw__corner.bl { bottom: -2px; left: -2px; border-left: 3px solid var(--frame); border-bottom: 3px solid var(--frame); border-bottom-left-radius: 6px; }
.hiw__corner.br { bottom: -2px; right: -2px; border-right: 3px solid var(--frame); border-bottom: 3px solid var(--frame); border-bottom-right-radius: 6px; }

.hiw__header {
  padding: 20px 20px 10px;
  text-align: center;
}

.hiw__title {
  margin: 0;
  font: 600 28px/1.1 ui-sans-serif, system-ui;
  letter-spacing: 0.32em;
  color: rgba(15,23,42,.62);
}

.hiw__diagram-wrapper {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 10px 20px 20px;
}

.hiw__svg {
  width: 100%;
  height: 100%;
  max-height: calc(100vh - 120px);
}

/* SVG Styles */
.svgLabel {
  font: 500 13px ui-sans-serif, system-ui;
  fill: rgba(15,23,42,.7);
}

.svgSubLabel {
  font: 400 11px ui-sans-serif, system-ui;
  fill: rgba(71,85,105,.7);
}

.svgCalloutBox {
  fill: var(--core-fill);
  stroke: rgba(0,158,186,.6);
  stroke-width: 1.5;
}

.svgCalloutText {
  font: 500 11px ui-sans-serif, system-ui;
  fill: rgba(0,158,186,1);
}

.moduleBox {
  stroke-width: 2;
  filter: drop-shadow(0 2px 4px rgba(15,23,42,0.06));
}

.module .moduleTitle {
  font: 600 14px ui-sans-serif, system-ui;
  fill: rgba(15,23,42,.88);
}

.module .moduleSub {
  font: 400 11px ui-sans-serif, system-ui;
  fill: rgba(71,85,105,.8);
}

.module.core .moduleBox {
  fill: var(--core-fill);
  stroke: rgba(0,158,186,.7);
}

.module.cots .moduleBox {
  fill: var(--cots-fill);
  stroke: var(--cots-stroke);
}

.module.concentrate .moduleBox {
  fill: var(--conc-fill);
  stroke: rgba(210,132,55,.7);
}

.module.concentrate .moduleTitle {
  fill: rgba(180,100,30,.95);
}

.module.concentrate .moduleSub {
  fill: rgba(180,100,30,.7);
}

.stream {
  fill: none;
  stroke: var(--stream);
  stroke-width: 2.5;
}

.stream.accent {
  stroke: var(--accent);
  stroke-width: 3;
}

.stream.concentrate {
  stroke: rgba(210,132,55,.7);
  stroke-dasharray: 6 4;
}

.coreBoundary {
  fill: none;
  stroke: rgba(0,158,186,.2);
  stroke-width: 2;
  stroke-dasharray: 8 6;
}

@media (max-width: 1200px) {
  .hiw__title { font-size: 22px; letter-spacing: 0.25em; }
}

@media (max-width: 768px) {
  .hiw__title { font-size: 18px; letter-spacing: 0.2em; }
  .hiw { padding: 10px; }
}
</style>
</head>
<body>

<section class="hiw" id="how-it-works">
  <div class="hiw__sheet">
    <div class="hiw__frame" aria-hidden="true">
      <span class="hiw__corner tl"></span>
      <span class="hiw__corner tr"></span>
      <span class="hiw__corner bl"></span>
      <span class="hiw__corner br"></span>
    </div>

    <header class="hiw__header">
      <h2 class="hiw__title">HOW IT WORKS</h2>
    </header>

    <div class="hiw__diagram-wrapper">
      <svg class="hiw__svg" viewBox="0 0 1100 520" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid meet">
        <defs>
          <marker id="arrow" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse">
            <path d="M 0 0 L 10 5 L 0 10 z" fill="var(--stream)" />
          </marker>
          <marker id="arrowAccent" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse">
            <path d="M 0 0 L 10 5 L 0 10 z" fill="var(--accent)" />
          </marker>
          <marker id="arrowConc" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse">
            <path d="M 0 0 L 10 5 L 0 10 z" fill="rgba(210,132,55,.7)" />
          </marker>
        </defs>

        <!-- Feed Water (above Intake) -->
        <text x="95" y="95" text-anchor="middle" class="svgLabel">Feed water</text>
        <text x="95" y="110" text-anchor="middle" class="svgSubLabel">(seawater / brackish /</text>
        <text x="95" y="123" text-anchor="middle" class="svgSubLabel">high-salinity / variable)</text>

        <!-- Inert carrier gas (above Gas-Sorbent) -->
        <g class="svgCallout">
          <rect x="245" y="30" width="130" height="42" rx="6" class="svgCalloutBox"/>
          <text x="310" y="48" text-anchor="middle" class="svgCalloutText">Inert carrier gas</text>
          <text x="310" y="62" text-anchor="middle" class="svgCalloutText">+ proprietary sorbent</text>
        </g>

        <!-- Arrow from Feed to Intake -->
        <path d="M 95 135 L 95 160" class="stream" marker-end="url(#arrow)"/>

        <!-- Arrow from Inert gas to Gas-Sorbent -->
        <path d="M 310 72 L 310 160" class="stream" marker-end="url(#arrow)"/>

        <!-- INTAKE module -->
        <g id="m-intake" class="module cots">
          <rect x="30" y="160" width="130" height="65" rx="10" class="moduleBox"/>
          <text x="95" y="188" text-anchor="middle" class="moduleTitle">Intake</text>
          <text x="95" y="205" text-anchor="middle" class="moduleSub">& Stabilization</text>
        </g>

        <!-- Arrow Intake to Gas-Sorbent -->
        <path d="M 160 192 L 245 192" class="stream" marker-end="url(#arrow)"/>

        <!-- GAS-SORBENT module -->
        <g id="m-dosing" class="module core">
          <rect x="245" y="160" width="130" height="65" rx="10" class="moduleBox"/>
          <text x="310" y="188" text-anchor="middle" class="moduleTitle">Gas-Sorbent</text>
          <text x="310" y="205" text-anchor="middle" class="moduleSub">Dosing</text>
        </g>

        <!-- Arrow Gas-Sorbent to Sorption -->
        <path d="M 375 192 L 460 192" class="stream accent" marker-end="url(#arrowAccent)"/>

        <!-- SORPTION module -->
        <g id="m-sorption" class="module core">
          <rect x="460" y="160" width="130" height="65" rx="10" class="moduleBox"/>
          <text x="525" y="188" text-anchor="middle" class="moduleTitle">Sorption</text>
          <text x="525" y="205" text-anchor="middle" class="moduleSub">(Contactor)</text>
        </g>

        <!-- Arrow Sorption to Separation -->
        <path d="M 590 192 L 675 192" class="stream accent" marker-end="url(#arrowAccent)"/>

        <!-- SEPARATION module -->
        <g id="m-separation" class="module core">
          <rect x="675" y="160" width="130" height="65" rx="10" class="moduleBox"/>
          <text x="740" y="188" text-anchor="middle" class="moduleTitle">Separation</text>
          <text x="740" y="205" text-anchor="middle" class="moduleSub">(Phase split)</text>
        </g>

        <!-- Arrow Separation to Mineralization -->
        <path d="M 805 192 L 890 192" class="stream" marker-end="url(#arrow)"/>

        <!-- MINERALIZATION module -->
        <g id="m-polishing" class="module cots">
          <rect x="890" y="160" width="150" height="65" rx="10" class="moduleBox"/>
          <text x="965" y="188" text-anchor="middle" class="moduleTitle">Mineralization</text>
          <text x="965" y="205" text-anchor="middle" class="moduleSub">& Polishing</text>
        </g>

        <!-- Arrow Separation down to Concentrate -->
        <path d="M 740 225 L 740 320 L 520 320 L 520 370" class="stream concentrate" marker-end="url(#arrowConc)"/>

        <!-- CONCENTRATE module -->
        <g id="m-concentrate" class="module concentrate">
          <rect x="380" y="370" width="280" height="70" rx="10" class="moduleBox"/>
          <text x="520" y="400" text-anchor="middle" class="moduleTitle">Concentrate / residual stream</text>
          <text x="520" y="420" text-anchor="middle" class="moduleSub">(typically &lt;5% of flow; controlled output)</text>
        </g>

        <!-- Core boundary (dashed rectangle around core modules) -->
        <rect x="235" y="150" width="580" height="85" rx="12" class="coreBoundary"/>

      </svg>
    </div>
  </div>
</section>

</body>
</html>
