<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AQUINTAQA - How It Works</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Inter', -apple-system, sans-serif;
      background: #fafafa;
      color: #111;
      min-height: 100vh;
    }
    
    .screen2 {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      padding: 60px 80px;
    }
    
    /* Header */
    .header {
      text-align: center;
      margin-bottom: 60px;
    }
    
    .title {
      font-size: 12px;
      font-weight: 500;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      color: #888;
    }
    
    /* Main layout */
    .main {
      flex: 1;
      display: grid;
      grid-template-columns: 240px 1fr;
      gap: 80px;
    }
    
    /* Left nav */
    .nav {
      padding-top: 20px;
    }
    
    .nav-item {
      display: block;
      padding: 14px 0;
      border: none;
      background: none;
      text-align: left;
      cursor: pointer;
      font-size: 14px;
      color: #666;
      transition: color 0.2s;
      border-left: 2px solid transparent;
      padding-left: 16px;
      margin-left: -16px;
    }
    
    .nav-item:hover {
      color: #111;
    }
    
    .nav-item.active {
      color: #0891b2;
      border-left-color: #0891b2;
    }
    
    /* Content */
    .content {
      display: flex;
      flex-direction: column;
    }
    
    .stage-title {
      font-size: 32px;
      font-weight: 500;
      color: #111;
      margin-bottom: 16px;
      line-height: 1.2;
    }
    
    .stage-desc {
      font-size: 16px;
      color: #666;
      line-height: 1.7;
      max-width: 500px;
      margin-bottom: 60px;
    }
    
    /* Diagram */
    .diagram {
      flex: 1;
      display: flex;
      align-items: center;
    }
    
    .diagram svg {
      width: 100%;
      max-width: 800px;
      height: auto;
    }
    
    /* SVG styles */
    .box {
      fill: #fff;
      stroke: #ddd;
      stroke-width: 1;
    }
    
    .box.core {
      stroke: #0891b2;
      stroke-width: 1.5;
    }
    
    .box.active {
      stroke: #0891b2;
      stroke-width: 2;
    }
    
    .box.output {
      fill: rgba(8,145,178,0.05);
      stroke: #0891b2;
    }
    
    .box.residual {
      stroke: #d97706;
      fill: rgba(217,119,6,0.03);
    }
    
    .label {
      font-family: 'Inter', sans-serif;
      font-size: 10px;
      font-weight: 500;
      fill: #333;
      text-anchor: middle;
    }
    
    .sublabel {
      font-family: 'Inter', sans-serif;
      font-size: 9px;
      fill: #888;
      text-anchor: middle;
    }
    
    .line {
      fill: none;
      stroke: #ccc;
      stroke-width: 1;
    }
    
    .line.core {
      stroke: #0891b2;
      stroke-dasharray: 4 3;
    }
    
    .line.residual {
      stroke: #d97706;
    }
    
    /* Legend */
    .legend {
      margin-top: 40px;
      padding-top: 30px;
      border-top: 1px solid #eee;
    }
    
    .legend-title {
      font-size: 10px;
      font-weight: 500;
      color: #888;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      margin-bottom: 16px;
    }
    
    .legend-items {
      display: flex;
      gap: 40px;
      margin-bottom: 16px;
    }
    
    .legend-item {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .legend-box {
      width: 14px;
      height: 14px;
    }
    
    .legend-box.core {
      border: 1.5px solid #0891b2;
      background: #fff;
    }
    
    .legend-box.aux {
      border: 1px solid #ddd;
      background: #fff;
    }
    
    .legend-text {
      font-size: 12px;
      color: #666;
    }
    
    .legend-note {
      font-size: 11px;
      color: #999;
      line-height: 1.6;
    }
    
    @media (max-width: 900px) {
      .screen2 {
        padding: 40px 24px;
      }
      .main {
        grid-template-columns: 1fr;
        gap: 40px;
      }
      .nav {
        display: flex;
        gap: 8px;
        overflow-x: auto;
        padding-top: 0;
      }
      .nav-item {
        padding: 10px 16px;
        margin-left: 0;
        border-left: none;
        border-bottom: 2px solid transparent;
        white-space: nowrap;
      }
      .nav-item.active {
        border-bottom-color: #0891b2;
      }
    }
  </style>
</head>
<body>
  <section class="screen2">
    <div class="header">
      <h2 class="title">How It Works</h2>
    </div>
    
    <div class="main">
      <nav class="nav">
        <button class="nav-item active" data-stage="1">Intake & Stabilization</button>
        <button class="nav-item" data-stage="2">Gas-Sorbent Dosing</button>
        <button class="nav-item" data-stage="3">Sorption (Contactor)</button>
        <button class="nav-item" data-stage="4">Separation (Phase split)</button>
        <button class="nav-item" data-stage="5">Mineralization & Polishing</button>
      </nav>
      
      <div class="content">
        <h3 class="stage-title" id="stageTitle">Intake & Stabilization</h3>
        <p class="stage-desc" id="stageDesc">Coarse protection against debris, flow stabilisation and optional baseline pH/oxygen conditioning. No heavy pre-treatment trains required.</p>
        
        <div class="diagram">
          <svg viewBox="0 0 700 200" fill="none">
            <!-- Feed -->
            <rect class="box" x="10" y="50" width="70" height="40" rx="2"/>
            <text class="label" x="45" y="68">Feed</text>
            <text class="sublabel" x="45" y="80">Seawater</text>
            
            <line class="line" x1="80" y1="70" x2="105" y2="70"/>
            
            <!-- Intake -->
            <rect class="box" id="node1" x="110" y="50" width="80" height="40" rx="2"/>
            <text class="label" x="150" y="68">Intake</text>
            <text class="sublabel" x="150" y="80">& Stabilization</text>
            
            <line class="line core" x1="190" y1="70" x2="215" y2="70"/>
            
            <!-- Gas input -->
            <rect class="box" x="230" y="10" width="70" height="28" rx="2"/>
            <text class="sublabel" x="265" y="28">Inert gas</text>
            <line class="line" x1="265" y1="38" x2="265" y2="48"/>
            
            <!-- Gas-Sorbent -->
            <rect class="box core" id="node2" x="220" y="50" width="90" height="40" rx="2"/>
            <text class="label" x="265" y="68">Gas-Sorbent</text>
            <text class="sublabel" x="265" y="80">Dosing</text>
            
            <line class="line core" x1="310" y1="70" x2="335" y2="70"/>
            
            <!-- Sorption -->
            <rect class="box core" id="node3" x="340" y="50" width="80" height="40" rx="2"/>
            <text class="label" x="380" y="68">Sorption</text>
            <text class="sublabel" x="380" y="80">(Contactor)</text>
            
            <line class="line core" x1="420" y1="70" x2="445" y2="70"/>
            
            <!-- Separation -->
            <rect class="box core" id="node4" x="450" y="50" width="80" height="40" rx="2"/>
            <text class="label" x="490" y="68">Separation</text>
            <text class="sublabel" x="490" y="80">(Phase split)</text>
            
            <!-- Residual -->
            <line class="line residual" x1="490" y1="90" x2="490" y2="120"/>
            <rect class="box residual" x="450" y="125" width="80" height="32" rx="2"/>
            <text class="sublabel" x="490" y="140" style="fill:#b45309;">Concentrate</text>
            <text class="sublabel" x="490" y="152" style="fill:#92400e;">&lt;5%</text>
            
            <line class="line" x1="530" y1="70" x2="555" y2="70"/>
            
            <!-- Mineralization -->
            <rect class="box" id="node5" x="560" y="50" width="90" height="40" rx="2"/>
            <text class="label" x="605" y="65">Mineralization</text>
            <text class="sublabel" x="605" y="77">& Polishing</text>
            <text class="sublabel" x="605" y="88" style="fill:#0891b2;">→ Drinking Water</text>
          </svg>
        </div>
        
        <div class="legend">
          <div class="legend-title">Legend</div>
          <div class="legend-items">
            <div class="legend-item">
              <div class="legend-box core"></div>
              <span class="legend-text">AQUINTAQA core module (encapsulated/protected)</span>
            </div>
            <div class="legend-item">
              <div class="legend-box aux"></div>
              <span class="legend-text">COTS-based auxiliary systems</span>
            </div>
          </div>
          <p class="legend-note">Note: sensitive setpoints, materials, and core control logic are disclosed stepwise under NDA. Colour coding applies to modules only, not to streams.</p>
        </div>
      </div>
    </div>
  </section>
  
  <script>
    const data = {
      1: { title: 'Intake & Stabilization', desc: 'Coarse protection against debris, flow stabilisation and optional baseline pH/oxygen conditioning. No heavy pre-treatment trains required.' },
      2: { title: 'Gas-Sorbent Dosing', desc: 'An inert carrier gas with fine-dispersed proprietary sorbent is dosed into the flow. Active capture centres are formed, preparing the solution for selective ion extraction.' },
      3: { title: 'Sorption (Contactor)', desc: 'Salt ions, hardness and dissolved organics are bound to the sorbent surface. The process runs under mild conditions — no membranes, no high pressures, no boiling.' },
      4: { title: 'Separation (Phase split)', desc: 'Purified water is separated from the loaded sorbent by mechanical/physical means. No reverse osmosis or thermal distillation required. Residual stream is <5% of input flow.' },
      5: { title: 'Mineralization & Polishing', desc: 'Precise remineralisation to drinking water profile (TDS ~100-150 mg/L), Ca/Mg balance, pH 7.2-7.8. Optional UV/ozone disinfection. Ready-to-drink output.' }
    };
    
    let current = 1, hovering = false;
    const items = document.querySelectorAll('.nav-item');
    const title = document.getElementById('stageTitle');
    const desc = document.getElementById('stageDesc');
    
    function set(n) {
      current = n;
      items.forEach(i => i.classList.toggle('active', +i.dataset.stage === n));
      for (let i = 1; i <= 5; i++) {
        const el = document.getElementById('node' + i);
        if (el) el.classList.toggle('active', i === n);
      }
      title.textContent = data[n].title;
      desc.textContent = data[n].desc;
    }
    
    setInterval(() => { if (!hovering) set(current >= 5 ? 1 : current + 1); }, 4000);
    
    items.forEach(i => {
      i.onmouseenter = () => { hovering = true; set(+i.dataset.stage); };
      i.onmouseleave = () => { hovering = false; };
    });
    
    set(1);
  </script>
</body>
</html>
